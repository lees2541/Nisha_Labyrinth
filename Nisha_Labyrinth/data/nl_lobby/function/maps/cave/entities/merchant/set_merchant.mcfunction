#summon villager 672 38 629 {Silent:1b,Invulnerable:1b,NoAI:1b,Willing:0b,Tags:["merchant","NL","cave"],CustomName:'"상인"',VillagerData:{profession:"minecraft:weaponsmith"}}
summon villager 672 38 628 {Silent:1b,Invulnerable:1b,CustomNameVisible:1b,NoAI:1b,Tags:["NL","merchant"],CustomName:"쥐돌이",active_effects:[{id:"minecraft:invisibility",amplifier:1,duration:-1,show_particles:0b,show_icon:0b}],VillagerData:{profession:"minecraft:weaponsmith"},Offers:{Recipes:[{rewardExp:0b,maxUses:3,buy:{id:"minecraft:emerald",count:10,components:{"minecraft:custom_data":{manastone:1b,NL:1b, drop:1b},"minecraft:item_model":"custom/items/resource/manastone","minecraft:item_name":{"bold":true,"color":"#8A2B13","text":"마석"}}},buyB:{id:"minecraft:iron_nugget",count:1,components:{"minecraft:custom_data":{NL:1b, perk1:1b,perk:1b},"minecraft:item_name":{"bold":true,"color":"blue","text":"신념"}}},sell:{id:"minecraft:paper",count:1,components:{"minecraft:custom_name":"희망의 비~취 보이십니까","minecraft:item_name":'"perk"',"minecraft:rarity":"rare","minecraft:custom_data":{perk:1b,perk1:1b},"minecraft:item_model":"custom/items/shop/crystal_x"}}},{maxUses:1,buy:{id:"minecraft:emerald",count:10,components:{"minecraft:custom_data":{manastone:1b, NL:1b, drop:1b},"minecraft:item_model":"custom/items/resource/manastone","minecraft:item_name":{"bold":true,"color":"#8A2B13","text":"마석"}}},buyB:{id:"minecraft:gold_nugget",count:1,components:{"minecraft:custom_data":{perk:1b,perk2:1b,NL:1b},"minecraft:item_name":{"bold":true,"color":"dark_red","text":"본성"}}},sell:{id:"minecraft:paper",count:1,components:{"minecraft:custom_name":"딥 다크한 정수","minecraft:item_name":'"perk"',"minecraft:rarity":"rare","minecraft:custom_data":{perk:1b,perk2:1b},"minecraft:item_model":"custom/items/shop/crystal_y"}}},{maxUses:6,buy:{id:"minecraft:emerald",count:5,components:{"minecraft:item_name":{"bold":true,"color":"#8A2B13","text":"마석"},"minecraft:custom_data":{NL:1b, manastone:1b, drop:1b},"minecraft:item_model":"custom/items/resource/manastone"}},sell:{id:"minecraft:paper",count:1,components:{"minecraft:custom_data":{NL:1b, redstone:1b},"minecraft:item_model":"custom/items/resource/redstone","minecraft:custom_name":{"color":"dark_red","text":"주술의 흔적"}}}}]}}
execute at @n[type=villager, tag=NL,tag=merchant] run summon item_display ~ ~0.25 ~ {billboard:"vertical",Rotation:[180F,0F],Tags:["NL","shop","test"],item:{id:"minecraft:armor_stand",count:1,components:{"minecraft:item_model":"npc/merchant"}},transformation:{scale: [0.3f, 0.3f, 0.3f]}}
#scoreboard players set #temp NL_count 1
#execute if data storage nl:lobby settings.player[0] run function nl_lobby:maps/cave/entities/merchant/put_perk_items with storage nl:lobby settings.player[0]
#execute if data storage nl:lobby settings.player[1] run function nl_lobby:maps/cave/entities/merchant/put_perk_items with storage nl:lobby settings.player[0]
#execute if data storage nl:lobby settings.player[2] run function nl_lobby:maps/cave/entities/merchant/put_perk_items with storage nl:lobby settings.player[0]